<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>DOM事件处理程序</title>
<link rel="stylesheet" href="style.css" />
<script>
window.onload= function(){
  //第三步，声明函数(事件处理程序)
  function checkUsername() {	
    let elMsg = document.getElementById('feedback');  //获得feedback元素
    // 3.假如username文本框字符数小于5。思考：this代表？
    if (this.value.length < 5) {
      elMsg.innerHTML = '用户名不能少于5个字符';
    } else {
      elMsg.innerHTML = ''; //用户输入5个字符以上清除elMsg元素内容，以免使用户迷惑
    }
  }  
  
   //第一步，获得username元素
  // 1.通过id属性值获得username元素
  let elUsername = document.getElementById('username');
  //第二步，响应元素事件，指定事件处理程序
  // 2-1 使用事件属性方式写出：当username元素的onblur事件(失去焦点)发生时调用checkUsername函数
  elUsername.onblur= checkUsername;  //思考：什么时候调用checkUserName函数
  // 2-2 使用事件属性方式写出：当username元素的onfocus事件(获得焦点)发生时清空文本框里的值
  //事件处理程序事件处理程序使用匿名函数，匿名函数里的语句为elUsername.value= ''; 
  elUsername.onfocus= function(){
    elUsername.value= '';
  }
}
</script>
</head>

<body>
<div id="page">
  <h1>King列表</h1>
  <h2>新账户</h2>
  <form method="post">

    <label for="username">用户名: </label>
    <input type="text" id="username"/>
    <div id="feedback"></div>

    <label for="password">密码: </label>
    <input type="password" id="password" />

    <input type="submit" value="注册" />

  </form>
</div>
</body>
</html>
